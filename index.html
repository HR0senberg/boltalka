<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P2P –ß–∞—Ç - –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Welcome Screen -->
    <div id="welcomeScreen" class="screen active">
        <div class="container">
            <div class="card">
                <h1 class="title">P2P –ß–∞—Ç</h1>
                <p class="subtitle">–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ –ø—Ä—è–º—ã–º –∫–∞–Ω–∞–ª–æ–º</p>
                
                <button id="createRoomBtn" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É</button>
                
                <div class="divider">–∏–ª–∏</div>
                
                <div class="join-section">
                    <input 
                        type="text" 
                        id="roomCodeInput" 
                        class="input" 
                        placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∫–æ–º–Ω–∞—Ç—ã –∏–ª–∏ Peer ID"
                    >
                    <button id="joinRoomBtn" class="btn btn-secondary">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</button>
                    <p class="info-text">–ú–æ–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥ –∫–æ–º–Ω–∞—Ç—ã –∏–ª–∏ –ø–æ–ª–Ω—ã–π Peer ID</p>
                </div>
                
                <div id="errorMessage" class="error-message"></div>
            </div>
        </div>
    </div>

    <!-- Room Created Screen -->
    <div id="roomCreatedScreen" class="screen">
        <div class="container">
            <div class="card">
                <h2 class="title">–í–∞—à–∞ –∫–æ–º–Ω–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∞</h2>
                
                <div class="room-code-section">
                    <p class="label">–ö–æ–¥ –¥–ª—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è:</p>
                    <div class="room-code" id="displayRoomCode"></div>
                    <button id="copyCodeBtn" class="btn btn-copy">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                    <p class="info">–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —ç—Ç–∏–º –∫–æ–¥–æ–º –¥–ª—è –æ–±—â–µ–Ω–∏—è</p>
                </div>
                
                <div class="status-section">
                    <p class="status-text">–û–∂–∏–¥–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö –ø–∏—Ä–æ–≤...</p>
                    <div class="spinner"></div>
                    <div class="peer-id-section">
                        <p class="peer-id-label">–í–∞—à Peer ID:</p>
                        <div class="peer-id-display" id="myPeerIdDisplay"></div>
                        <button id="copyPeerIdBtn" class="btn btn-copy-small">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å ID</button>
                        <p class="info-small">–î—Ä—É–≥–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–¥ –∏–ª–∏ ID –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Chat Screen -->
    <div id="chatScreen" class="screen">
        <div class="chat-container">
            <div class="chat-header">
                <div class="header-left">
                    <h3>P2P –ß–∞—Ç</h3>
                    <div class="room-info">–ö–æ–º–Ω–∞—Ç–∞: <span id="chatRoomCode"></span></div>
                </div>
                <div class="header-right">
                    <div class="connection-status" id="connectionStatus">
                        <span class="status-dot"></span>
                        <span class="status-text">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</span>
                    </div>
                </div>
            </div>
            
            <div class="messages-container" id="messagesContainer">
                <!-- Messages will be dynamically added here -->
            </div>
            
            <div class="input-area">
                <input 
                    type="text" 
                    id="messageInput" 
                    class="message-input" 
                    placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."
                >
                <button id="sendMessageBtn" class="btn btn-send">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
            
            <div class="footer-actions">
                <button id="leaveRoomBtn" class="btn btn-leave">–í—ã—Ö–æ–¥</button>
            </div>
        </div>
    </div>

    <!-- PeerJS Library -->
    <script src="https://cdn.jsdelivr.net/npm/peerjs@1.5.2/dist/peerjs.min.js"></script>
    <script src="app.js"></script>
</body>
</html>